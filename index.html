<!DOCTYPE html>
<html>
<head>
    <title>My Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid vh-100 d-flex justify-content-center align-items-center">
        <div class="row">
            <div class="col-md-6">
                
                <div id="selectingNameDiv">
                    <h1> What is your name?</h1>
                    <input type="text" id="fname" name="fname"><br><br>
                    <button onclick="SetNameButton()">Host Game</button>
                </div>

                <div id="gameDiv" style="display: none;">
                    <canvas id="canvas"></canvas>
                    <h1> Loading Progress:</h1>
                    <h1 id="progress">Progress</h1>
                    <button onclick="toggleFullScreen()">FullScreen!</button>
                </div>
            </div>
        </div>
    </div>
    <script src="index.js"></script>
    <script>
        var engine = new Engine({"args":[],"canvasResizePolicy":1,"executable":"index","experimentalVK":false,"fileSizes":{"index.pck":66784432,"index.wasm":17867504},"focusCanvas":true,"gdnativeLibs":[]});
        var player_name = "nothing123"
        
        function printProgress(current, total) {
            document.getElementById("progress").innerHTML = ((current/total) * 100).toFixed(2);   
        }

        function SetNameButton()
        {
            player_name = document.getElementById("fname").value;

            engine.startGame({ onProgress: printProgress });

            ShowGameHideNameSelect()
        }

        function ShowGameHideNameSelect()
        {
            document.getElementById("selectingNameDiv").style.display = "none";
            document.getElementById("gameDiv").style.display = "block";
        }

        function toggleFullScreen() {
            const elem = document.getElementById("canvas");
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            }
        }
    </script>
</body>
</html>
